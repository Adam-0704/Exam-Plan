@page
@model ExamPlan.Pages.EmployeeDetailsModel
@{
    ViewData["Title"] = "Medarbejder Detaljer";
}

<h1>Medarbejder Detaljer</h1>

@if (Model.Employee != null)
{
    <div class="form-container">
        <form method="post" asp-page-handler="Update">
            <input type="hidden" asp-for="Employee.Id" />
            
            <div class="form-group">
                <label><strong>Navn:</strong></label>
                <input asp-for="Employee.Name" type="text" required />
            </div>
            
            <div class="form-group">
                <label><strong>Rolle:</strong></label>
                <select asp-for="Employee.Rolle" required>
                    <option value="">-- Vælg Rolle --</option>
                    @foreach (var role in Model.RoleOptions)
                    {
                        <option value="@role">@role</option>
                    }
                </select>
            </div>
            
            <div class="form-group">
                <strong>Antal Eksamener:</strong>
                <p>@Model.Employee.Assignment.Count</p>
            </div>
            
            <button type="submit">Gem Ændringer</button>
        </form>
        <form method="post" asp-page-handler="Delete" onsubmit="return confirm('Er du sikker på, at du vil slette denne medarbejder?');">
            <input type="hidden" name="deleteId" value="@Model.Employee.Id" />
            <button type="submit" class="btn-delete">Slet</button>
        </form>
    </div>
    <p><a href="/CreateEmployee">Tilbage til Liste</a></p>
}
else
{
    <p>Medarbejder ikke fundet.</p>
    <p><a href="/CreateEmployee">Tilbage til Liste</a></p>
}

